!function(){function e(){"loading"==h?y(null):"complete"==h||"failure"==h?i():u=$.map(u,function(e){switch(e.type){case"loading":case"complete":case"failure":return null;default:return e}})}function l(e,l,i,n){"object"!=typeof i||i instanceof Array?"undefined"!=typeof i&&(l.msg=i+""):$.extend(l,i),"function"==typeof n&&(l.callback=n),l.type=e,f?u.push(l):w(l)}function i(){s.stop(!1,!0),d.stop(!1,!0)}var n=0,o={effect:n};$.extend(o,window.alertOption);var c='<div id="dialogBox">	<div class="mask"></div>	<div class="container">		<div class="box alert">			<div class="header"></div>			<div class="msg"></div>			<div class="html"></div>			<div class="footer"><span class="btn"></span></div>			<div class="close"></div>		</div>		<div class="box confirm">			<div class="header"></div>			<div class="msg"></div>			<div class="html"></div>			<div class="footer"><span class="btn2"></span><span class="btn"></span></div>			<div class="close"></div>		</div>		<div class="box loading">			<div class="icon"></div>			<div class="msg"></div>		</div>		<div class="box complete">			<div class="icon"></div>			<div class="msg"></div>		</div>		<div class="box failure">			<div class="icon"></div>			<div class="msg"></div>		</div>	</div></div>',t=$(document.body),a=$(c).hide().appendTo(t),s=a.children(".mask").hide(),d=a.children(".container").hide(),r="click",f=!1,m=!1,h="",v="",u=[],_=null,g={alert:d.children(".alert").hide(),confirm:d.children(".confirm").hide(),loading:d.children(".loading").hide(),complete:d.children(".complete").hide(),failure:d.children(".failure").hide()};g.alert_close=g.alert.children(".close"),g.alert_header=g.alert.children(".header"),g.alert_msg=g.alert.children(".msg"),g.alert_html=g.alert.children(".html"),g.alert_footer=g.alert.children(".footer"),g.alert_btn=g.alert_footer.children(".btn"),g.confirm_close=g.confirm.children(".close"),g.confirm_header=g.confirm.children(".header"),g.confirm_msg=g.confirm.children(".msg"),g.confirm_html=g.confirm.children(".html"),g.confirm_footer=g.confirm.children(".footer"),g.confirm_btn=g.confirm_footer.children(".btn"),g.confirm_btn2=g.confirm_footer.children(".btn2"),g.loading_msg=g.loading.children(".msg"),g.complete_msg=g.complete.children(".msg"),g.failure_msg=g.failure.children(".msg");var b,p;switch(o.effect){case 0:b=function(){},p=function(){};break;case 1:a.addClass("noblur"),b=function(){t.addClass("modalBlur")},p=function(){t.removeClass("modalBlur")}}var w=function(e){f||(f=!0,i(),a.show()),h=e.type,v=e.class,v&&g[h].addClass(v),g[h].show(),e.msg?g[h+"_msg"].html(e.msg).show():g[h+"_msg"].hide(),"alert"==h||"confirm"==h?(b(),_=e.callback,m||(m=!0,s.fadeIn(200)),g[h+"_header"].html(e.title),g[h+"_html"].html(e.html),g[h+"_btn"].html(e.btn),e.title?g[h+"_header"].show():g[h+"_header"].hide(),e.html?g[h+"_html"].show():g[h+"_html"].hide(),e.close?g[h+"_close"].show():g[h+"_close"].hide(),"alert"==h?e.btn||!e.close?g[h+"_footer"].show():g[h+"_footer"].hide():"confirm"==h&&(g[h+"_btn2"].html(e.btn2),e.btn||e.btn2||!e.close?g[h+"_footer"].show():g[h+"_footer"].hide()),d.css({scale:1.5,opacity:0}).show().animate({scale:1,opacity:1},200)):("loading"==h||"complete"==h||"failure"==h)&&(m&&(m=!1,s.fadeOut(200)),d.fadeIn(200),("complete"==h||"failure"==h)&&(a.addClass("noevent"),d.delay(1e3).queue(function(e){e(),y()})))},y=function(e){i();var l=g[h];if(v&&l.removeClass(v),"alert"==h||"confirm"==h?(p(),"function"==typeof _&&_(e)):("complete"==h||"failure"==h)&&a.removeClass("noevent"),u.length){l.hide(),d.hide();var n=u.shift();w(n)}else m&&(m=!1,s.fadeOut(200)),d.fadeOut(200,function(){l.hide(),a.hide()}),f=!1,_=null,h=""};g.alert_btn.on(r,function(){y(!0)}),g.alert_close.on(r,function(){y(null)}),g.confirm_btn.on(r,function(){y(!0)}),g.confirm_btn2.on(r,function(){y(!1)}),g.confirm_close.on(r,function(){y(null)}),window.alert=function(e,i){var n={title:"提示",msg:"",html:"",btn:"好","class":"",close:!1,callback:null};l("alert",n,e,i)},window.confirm=function(e,i){var n={title:"提示",msg:"",html:"",btn:"确定",btn2:"取消","class":"",close:!1,callback:null};l("confirm",n,e,i)},window.loadStart=function(i){var n={msg:"加载中","class":""};f&&e(),l("loading",n,i)},window.loadEnd=function(){e()},window.complete=function(i){var n={msg:"加载完成","class":""};f&&e(),l("complete",n,i)},window.failure=function(i){var n={msg:"加载失败","class":""};f&&e(),l("failure",n,i)}}();